(function(){function a(b){var a;a=jQuery("#captainform-insert-dialog-body");a.append('<link rel="stylesheet" type="text/css" href="'+b+'/includes/css/chosen/chosen.css" />');a.append('<link rel="stylesheet" type="text/css" href="'+b+'/includes/css/widget.css" />');a.append('<link rel="stylesheet" type="text/css" href="'+b+'/includes/css/publish_lightbox_posts.css" />');a.append('<span class="captainform_spinner">Loading, please wait...</span>');var c=captainform_get_absolute_path()+"admin-ajax.php";
jQuery.post(c,{action:"captainform_insert_dialog"},function(b){window.captainform_is_widget_page=!1;a.children(".captainform_spinner").remove();a.append(b)}).done(function(){"undefined"!=typeof jscolor&&(jscolor.dir=b+"/includes/js/jscolor/",captainform_bind_widget())})}tinymce.create("tinymce.plugins.captainform",{init:function(b,d){var c=d.replace("/captainform/dialog","/captainform");b.addButton("captainform",{image:c+"/includes/images/captainform-18.png",tooltip:"Insert Form",cmd:"captainform_insert"});
b.addCommand("captainform_insert",function(){b.windowManager.open({action:"captainform_insert_dialog",title:"Insert Form",width:600>.7*jQuery(window).width()?.7*jQuery(window).width():600,height:365>.7*(jQuery(window).height()-36-50)?.7*(jQuery(window).height()-36-50):365,resizable:!0,inline:1,scrollbars:"x",id:"captainform-insert-dialog",buttons:[{text:"Insert form",id:"captainform-button-insert","class":"captainform-insert",onclick:function(a){a=document.getElementById("captainform_publish_code").value;
top.window.tinyMCE.execCommand("mceInsertContent",!1,a);b.windowManager.close()}},{text:"Cancel",id:"captainform-button-cancel",onclick:"close"}]});a(c)})},getInfo:function(){return{longname:"CaptainForm for Wordpress plugin",author:"Captain Form",authorurl:"http://www.captainform.com",infourl:"",version:"1.2.0"}}});tinymce.PluginManager.add("captainform",tinymce.plugins.captainform)})();
function captainform_get_absolute_path(){var a=window.location,b=a.pathname.substring(0,a.pathname.lastIndexOf("/")+1);return a.href.substring(0,a.href.length-((a.pathname+a.search+a.hash).length-b.length))};