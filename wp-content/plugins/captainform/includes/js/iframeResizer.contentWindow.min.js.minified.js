/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v3.5.1 - 2015-11-04
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: iframeResizer.min.js on host page.
 *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */
;!function(aQ){function aP(a,f,e){"addEventListener" in aQ?a.addEventListener(f,e,!1):"attachEvent" in aQ&&a.attachEvent("on"+f,e)}function aO(a,f,e){"removeEventListener" in aQ?a.removeEventListener(f,e,!1):"detachEvent" in aQ&&a.detachEvent("on"+f,e)}function aM(b){return b.charAt(0).toUpperCase()+b.slice(1)}function aL(i){var h,n,m,l=null,k=0,j=function(){k=ae(),l=null,m=i.apply(h,n),l||(h=n=null)};return function(){var b=ae();k||(k=b);var a=ab-(b-k);return h=this,n=arguments,0>=a||a>ab?(l&&(clearTimeout(l),l=null),k=b,m=i.apply(h,n),l||(h=n=null)):l||(l=setTimeout(j,a)),m}}function aK(b){return bu+"["+aN+"] "+b}function aJ(a){bB&&"object"==typeof aQ.console&&console.log(aK(a))}function aI(a){"object"==typeof aQ.console&&console.warn(aK(a))}function aF(){aE(),aJ("Initialising iFrame ("+location.href+")"),aD(),az(),aB("background",aW),aB("padding",bw),bo(),au(),at(),ay(),bm(),ar(),aG=bn(),a6("init","Init message from host page"),aH()}function aE(){function d(b){return"true"===b?!0:!1}var c=bc.substr(bj).split(":");aN=c[0],aV=void 0!==c[1]?Number(c[1]):aV,aS=void 0!==c[2]?d(c[2]):aS,bB=void 0!==c[3]?d(c[3]):bB,ai=void 0!==c[4]?Number(c[4]):ai,aY=void 0!==c[6]?d(c[6]):aY,aU=c[7],bz=void 0!==c[8]?c[8]:bz,aW=c[9],bw=c[10],aR=void 0!==c[11]?Number(c[11]):aR,aG.enable=void 0!==c[12]?d(c[12]):!1,af=void 0!==c[13]?c[13]:af,bA=void 0!==c[14]?c[14]:bA}function aD(){function a(){var c=aQ.iFrameResizer;aJ("Reading data from page: "+JSON.stringify(c)),bd="messageCallback" in c?c.messageCallback:bd,aH="readyCallback" in c?c.readyCallback:aH,bp="targetOrigin" in c?c.targetOrigin:bp,bz="heightCalculationMethod" in c?c.heightCalculationMethod:bz,bA="widthCalculationMethod" in c?c.widthCalculationMethod:bA}"iFrameResizer" in aQ&&Object===aQ.iFrameResizer.constructor&&a(),aJ("TargetOrigin for parent set to: "+bp)}function aC(d,c){return -1!==c.indexOf("-")&&(aI("Negative CSS value ignored for "+d),c=""),c}function aB(d,c){void 0!==c&&""!==c&&"null"!==c&&(document.body.style[d]=c,aJ("Body "+d+' set to "'+c+'"'))}function az(){void 0===aU&&(aU=aV+"px"),aB("margin",aC("margin",aU))}function ay(){document.documentElement.style.height="",document.body.style.height="",aJ('HTML & body height set to "auto"')}function ax(c){function b(){a6(c.eventName,c.eventType)}var a={add:function(d){aP(aQ,d,b)},remove:function(d){aO(aQ,d,b)}};c.eventNames&&Array.prototype.map?(c.eventName=c.eventNames[0],c.eventNames.map(a[c.method])):a[c.method](c.eventName),aJ(aM(c.method)+" event listener: "+c.eventType)}function aw(b){ax({method:b,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ax({method:b,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ax({method:b,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ax({method:b,eventType:"Input",eventName:"input"}),ax({method:b,eventType:"Mouse Up",eventName:"mouseup"}),ax({method:b,eventType:"Mouse Down",eventName:"mousedown"}),ax({method:b,eventType:"Orientation Change",eventName:"orientationchange"}),ax({method:b,eventType:"Touch Start",eventName:"touchstart"}),ax({method:b,eventType:"Touch End",eventName:"touchend"}),ax({method:b,eventType:"Touch Cancel",eventName:"touchcancel"}),ax({method:b,eventType:"Print",eventName:["afterprint","beforeprint"]}),ax({method:b,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ax({method:b,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ax({method:b,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===af&&ax({method:b,eventType:"IFrame Resized",eventName:"resize"})}function av(f,e,h,g){return e!==f&&(f in h||(aI(f+" is not a valid option for "+g+"CalculationMethod."),f=e),aJ(g+' calculation method set to "'+f+'"')),f}function au(){bz=av(bz,ac,bC,"height")}function at(){bA=av(bA,bq,bv,"width")}function ar(){!0===aY?(aw("add"),bh()):aJ("Auto Resize disabled")}function aq(){aJ("Disable outgoing messages"),bD=!1}function ap(){aJ("Remove event listener: Message"),aO(aQ,"message",a0)}function ao(){null!==aT&&aT.disconnect()}function an(){aw("remove"),ao(),clearInterval(ad)}function am(){aq(),ap(),!0===aY&&an()}function bo(){var b=document.createElement("div");b.style.clear="both",b.style.display="block",document.body.appendChild(b)}function bn(){function p(){return{x:void 0!==aQ.pageXOffset?aQ.pageXOffset:document.documentElement.scrollLeft,y:void 0!==aQ.pageYOffset?aQ.pageYOffset:document.documentElement.scrollTop}}function o(e){var c=e.getBoundingClientRect(),f=p();return{x:parseInt(c.left,10)+parseInt(f.x,10),y:parseInt(c.top,10)+parseInt(f.y,10)}}function n(i){function d(e){var c=o(e);aJ("Moving to in page link (#"+l+") at x: "+c.x+" y: "+c.y),a1(c.y,c.x,"scrollToOffset")}var l=i.split("#")[1]||i,k=decodeURIComponent(l),j=document.getElementById(k)||document.getElementsByName(k)[0];void 0!==j?d(j):(aJ("In page link (#"+l+") not found in iFrame, so sending to parent"),a1(0,0,"inPageLink","#"+l))}function m(){""!==location.hash&&"#"!==location.hash&&n(location.href)}function h(){function c(d){function e(f){f.preventDefault(),n(this.getAttribute("href"))}"#"!==d.getAttribute("href")&&aP(d,"click",e)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),c)}function g(){aP(aQ,"hashchange",m)}function b(){setTimeout(m,a4)}function a(){Array.prototype.forEach&&document.querySelectorAll?(aJ("Setting up location.hash handlers"),h(),g(),b()):aI("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return aG.enable?a():aJ("In page linking not enabled"),{findTarget:n}}function bm(){aJ("Enable public methods"),bt.parentIFrame={autoResize:function(b){return !0===b&&!1===aY?(aY=!0,ar()):!1===b&&!0===aY&&(aY=!1,an()),aY},close:function(){a1(0,0,"close"),am()},getId:function(){return aN},getPageInfo:function(b){"function"==typeof b?(aj=b,a1(0,0,"pageInfo")):(aj=b,a1(0,0,"pageInfoStop"))},moveToAnchor:function(b){aG.findTarget(b)},reset:function(){a2("parentIFrame.reset")},scrollTo:function(d,c){a1(c,d,"scrollTo")},scrollToOffset:function(d,c){a1(c,d,"scrollToOffset")},sendMessage:function(d,c){a1(0,0,"message",JSON.stringify(d),c)},setHeightCalculationMethod:function(b){bz=b,au()},setWidthCalculationMethod:function(b){bA=b,at()},setTargetOrigin:function(b){aJ("Set targetOrigin: "+b),bp=b},size:function(e,d){var f=""+(e?e:"")+(d?","+d:"");a6("size","parentIFrame.size("+f+")",e,d)}}}function bl(){0!==ai&&(aJ("setInterval: "+ai+"ms"),ad=setInterval(function(){a6("interval","setInterval: "+ai)},Math.abs(ai)))}function bi(){function v(d){function c(b){!1===b.complete&&(aJ("Attach listeners to "+b.src),b.addEventListener("load",r,!1),b.addEventListener("error",q,!1),n.push(b))}"attributes"===d.type&&"src"===d.attributeName?c(d.target):"childList"===d.type&&Array.prototype.forEach.call(d.target.querySelectorAll("img"),c)}function u(b){n.splice(n.indexOf(b),1)}function t(b){aJ("Remove listeners from "+b.src),b.removeEventListener("load",r,!1),b.removeEventListener("error",q,!1),u(b)}function s(e,d,f){t(e.target),a6(d,f+": "+e.target.src,void 0,void 0)}function r(b){s(b,"imageLoad","Image loaded")}function q(b){s(b,"imageLoadFailed","Image load failed")}function p(b){a6("mutationObserver","mutationObserver: "+b[0].target+" "+b[0].type),b.forEach(v)}function o(){var d=document.querySelector("body"),c={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return a=new g(p),aJ("Create body MutationObserver"),a.observe(d,c),a}var n=[],g=aQ.MutationObserver||aQ.WebKitMutationObserver,a=o();return{disconnect:function(){"disconnect" in a&&(aJ("Disconnect body MutationObserver"),a.disconnect(),n.forEach(t))}}}function bh(){var a=0>ai;aQ.MutationObserver||aQ.WebKitMutationObserver?a?bl():aT=bi():(aJ("MutationObserver not supported in this browser!"),bl())}function bg(f,e){function h(b){var k=/^\d+(px)?$/i;if(k.test(b)){return parseInt(b,aX)}var j=e.style.left,i=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=b||0,b=e.style.pixelLeft,e.style.left=j,e.runtimeStyle.left=i,b}var g=0;return e=e||document.body,"defaultView" in document&&"getComputedStyle" in document.defaultView?(g=document.defaultView.getComputedStyle(e,null),g=null!==g?g[f]:0):g=h(e.currentStyle[f]),parseInt(g,aX)}function bf(b){b>ab/2&&(ab=2*b,aJ("Event throttle increased to "+ab+"ms"))}function be(g,d){for(var p=d.length,o=0,n=0,m=aM(g),l=ae(),k=0;p>k;k++){o=d[k].getBoundingClientRect()[g]+bg("margin"+m,d[k]),o>n&&(n=o)}return l=ae()-l,aJ("Parsed "+p+" HTML elements"),aJ("Element position calculated in "+l+"ms"),bf(l),n}function bb(b){return[b.bodyOffset(),b.bodyScroll(),b.documentElementOffset(),b.documentElementScroll()]}function a9(f,e){function h(){return aI("No tagged elements ("+e+") found on page"),ah}var g=document.querySelectorAll("["+e+"]");return 0===g.length?h():be(f,g)}function a8(){return document.querySelectorAll("body *")}function a7(x,w,v,u){function t(){ah=n,by=g,a1(ah,by,x)}function s(){function b(e,d){var f=Math.abs(e-d)<=aR;return !f}return n=void 0!==v?v:bC[bz](),g=void 0!==u?u:bv[bA](),b(ah,n)||aS&&b(by,g)}function r(){return !(x in {init:1,interval:1,size:1})}function q(){return bz in ak||aS&&bA in ak}function p(){aJ("No change in size detected")}function o(){r()&&q()?a2(w):x in {interval:1}||p()}var n,g;s()||"init"===x?(a5(),t()):o()}function a6(h,g,l,k){function j(){h in {reset:1,resetPage:1,init:1}||aJ("Trigger event: "+g)}function i(){return al&&h in br}i()?aJ("Trigger event cancelled: "+h):(j(),bk(h,g,l,k))}function a5(){al||(al=!0,aJ("Trigger event lock on")),clearTimeout(ag),ag=setTimeout(function(){al=!1,aJ("Trigger event lock off"),aJ("--")},a4)}function a3(b){ah=bC[bz](),by=bv[bA](),a1(ah,by,b)}function a2(d){var c=bz;bz=ac,aJ("Reset trigger event: "+d),a5(),a3("reset"),bz=c}function a1(i,g,n,m,l){function k(){void 0===l?l=bp:aJ("Message targetOrigin: "+l)}function j(){var b=i+":"+g,a=aN+":"+b+":"+n+(void 0!==m?":"+m:"");aJ("Sending message to host page ("+a+")"),bx.postMessage(bu+a,l)}!0===bD&&(k(),j())}function a0(B){function A(){return bu===(""+B.data).substr(0,bj)}function z(){bc=B.data,bx=B.source,aF(),aA=!1,setTimeout(function(){bs=!1},a4)}function y(){bs?aJ("Page reset ignored by init"):(aJ("Page size reset by host page"),a3("resetPage"))}function x(){a6("resizeParent","Parent window requested size check")}function w(){var b=u();aG.findTarget(b)}function v(){return B.data.split("]")[1].split(":")[0]}function u(){return B.data.substr(B.data.indexOf(":")+1)}function t(){return"iFrameResize" in aQ}function s(){var b=u();aJ("MessageCallback called from parent: "+b),bd(JSON.parse(b)),aJ(" --")}function i(){var b=u();aJ("PageInfoFromParent called from parent: "+b),aj(JSON.parse(b)),aJ(" --")}function h(){return B.data.split(":")[2] in {"true":1,"false":1}}function g(){switch(v()){case"reset":y();break;case"resize":x();break;case"moveToAnchor":w();break;case"message":s();break;case"pageInfo":i();break;default:t()||h()||aI("Unexpected message ("+B.data+")")}}function a(){!1===aA?g():h()?z():aJ('Ignored message of type "'+v()+'". Received before initialization.')}A()&&a()}function aZ(){"loading"!==document.readyState&&aQ.parent.postMessage("[iFrameResizerChild]Ready","*")}var aY=!0,aX=10,aW="",aV=0,aU="",aT=null,bw="",aS=!1,br={resize:1,click:1},a4=128,aA=!0,ah=1,ac="bodyOffset",bz=ac,bs=!0,bc="",aG={},ai=32,ad=null,bB=!1,bu="[iFrameSizer]",bj=bu.length,aN="",ak={max:1,min:1,bodyScroll:1,documentElementScroll:1},af="child",bD=!0,bx=aQ.parent,bp="*",aR=0,al=!1,ag=null,ab=16,by=1,bq="scroll",bA=bq,bt=aQ,bd=function(){aI("MessageCallback function not defined")},aH=function(){},aj=function(){},ae=Date.now||function(){return(new Date).getTime()},bC={bodyOffset:function(){return document.body.offsetHeight+bg("marginTop")+bg("marginBottom")},offset:function(){return bC.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,bb(bC))},min:function(){return Math.min.apply(null,bb(bC))},grow:function(){return bC.max()},lowestElement:function(){return Math.max(bC.bodyOffset(),be("bottom",a8()))},taggedElement:function(){return a9("bottom","data-iframe-height")}},bv={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(bv.bodyScroll(),bv.documentElementScroll())},max:function(){return Math.max.apply(null,bb(bv))},min:function(){return Math.min.apply(null,bb(bv))},rightMostElement:function(){return be("right",a8())},taggedElement:function(){return a9("right","data-iframe-width")}},bk=aL(a7);aP(aQ,"message",a0),aZ()}(window||{});